<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of AFQ_test</title>
  <meta name="keywords" content="AFQ_test">
  <meta name="description" content="Perform unit testing on all the AFQ functions.">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html v1.5 &copy; 2003-2005 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../m2html.css">
</head>
<body>
<a name="_top"></a>
<div><a href="../index.html">Home</a> &gt;  <a href="index.html">test</a> &gt; AFQ_test.m</div>

<!--<table width="100%"><tr><td align="left"><a href="../index.html"><img alt="<" border="0" src="../left.png">&nbsp;Master index</a></td>
<td align="right"><a href="index.html">Index for test&nbsp;<img alt=">" border="0" src="../right.png"></a></td></tr></table>-->

<h1>AFQ_test
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="box"><strong>Perform unit testing on all the AFQ functions.</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="box"><strong>function AFQ_test </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="fragment"><pre class="comment"> Perform unit testing on all the AFQ functions.
 
 AFQ_test

 This is mainly for developers but could be useful for users as well. This
 funciton will perform unit testing on each function within AFQ to make
 sure it (1) runs without an error and (2) returns the correct values.
 This will allow developers to make sure new code they have written will
 not break or change any of the current functionality. Unit testing is
 essential for continuous integration of code. See wiki pages for
 continuous integration:
 http://en.wikipedia.org/wiki/Continuous_integration
 test driven development
 http://en.wikipedia.org/wiki/Test_driven_development

 Copyright Jason D. Yeatman November 2012</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../matlabicon.gif)">
<li><a href="../functions/AFQ_Create.html" class="code" title="function afq = AFQ_Create(varargin)">AFQ_Create</a>	Create AFQ structure and set default parameters</li><li><a href="../functions/AFQ_directories.html" class="code" title="function [AFQbase AFQdata AFQfunc AFQutil AFQdoc AFQgui] = AFQ_directories">AFQ_directories</a>	Returns a path to the AFQ directories</li><li><a href="../functions/AFQ_get.html" class="code" title="function val = AFQ_get(afq, param, varargin)">AFQ_get</a>	Get value from afq structure</li><li><a href="../functions/AFQ_run.html" class="code" title="function [afq patient_data control_data norms abn abnTracts] = AFQ_run(sub_dirs, sub_group, afq)">AFQ_run</a>	Run AFQ analysis on a set of subjects to generate Tract Profiles of white</li></ul>
This function is called by:
<ul style="list-style-image:url(../matlabicon.gif)">
</ul>
<!-- crossreference -->



<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="fragment"><pre>0001 <a name="_sub0" href="#_subfunctions" class="code">function AFQ_test</a>
0002 <span class="comment">% Perform unit testing on all the AFQ functions.</span>
0003 <span class="comment">%</span>
0004 <span class="comment">% AFQ_test</span>
0005 <span class="comment">%</span>
0006 <span class="comment">% This is mainly for developers but could be useful for users as well. This</span>
0007 <span class="comment">% funciton will perform unit testing on each function within AFQ to make</span>
0008 <span class="comment">% sure it (1) runs without an error and (2) returns the correct values.</span>
0009 <span class="comment">% This will allow developers to make sure new code they have written will</span>
0010 <span class="comment">% not break or change any of the current functionality. Unit testing is</span>
0011 <span class="comment">% essential for continuous integration of code. See wiki pages for</span>
0012 <span class="comment">% continuous integration:</span>
0013 <span class="comment">% http://en.wikipedia.org/wiki/Continuous_integration</span>
0014 <span class="comment">% test driven development</span>
0015 <span class="comment">% http://en.wikipedia.org/wiki/Test_driven_development</span>
0016 <span class="comment">%</span>
0017 <span class="comment">% Copyright Jason D. Yeatman November 2012</span>
0018 
0019 <span class="comment">%% Load the AFQ test data</span>
0020 <span class="keyword">try</span>
0021     fprintf(<span class="string">'\nTesting AFQ_directories.m'</span>);
0022     [AFQbase AFQdata AFQfunc AFQutil AFQdoc AFQgui] = <a href="../functions/AFQ_directories.html" class="code" title="function [AFQbase AFQdata AFQfunc AFQutil AFQdoc AFQgui] = AFQ_directories">AFQ_directories</a>;
0023 <span class="keyword">catch</span> ME
0024     ME.stack
0025 <span class="keyword">end</span>
0026 testData = load(fullfile(AFQdata,<span class="string">'afq.mat'</span>));
0027 
0028 <span class="comment">%% Test AFQ_Create.m</span>
0029 sub_dirs = {[AFQdata <span class="string">'/patient_01/dti30'</span>], [AFQdata <span class="string">'/patient_02/dti30'</span>]<span class="keyword">...</span>
0030     [AFQdata <span class="string">'/patient_03/dti30'</span>], [AFQdata <span class="string">'/control_01/dti30'</span>]<span class="keyword">...</span>
0031     [AFQdata <span class="string">'/control_02/dti30'</span>], [AFQdata <span class="string">'/control_03/dti30'</span>]};
0032     sub_group = [1, 1, 1, 0, 0, 0]; 
0033 <span class="keyword">try</span>
0034     fprintf(<span class="string">'\nTesting AFQ_Create.m'</span>)
0035     afq = <a href="../functions/AFQ_Create.html" class="code" title="function afq = AFQ_Create(varargin)">AFQ_Create</a>(<span class="string">'run_mode'</span>,<span class="string">'test'</span>, <span class="string">'sub_dirs'</span>, sub_dirs, <span class="string">'sub_group'</span>, sub_group, <span class="string">'showfigs'</span>, 0); 
0036 <span class="keyword">catch</span> ME
0037     ME.stack
0038 <span class="keyword">end</span>
0039 
0040 <span class="comment">%% Test AFQ_run.m</span>
0041 <span class="keyword">try</span>
0042     fprintf(<span class="string">'\nTesting AFQ_run.m'</span>)
0043     [afq patient_data control_data norms abn abnTracts] = <a href="../functions/AFQ_run.html" class="code" title="function [afq patient_data control_data norms abn abnTracts] = AFQ_run(sub_dirs, sub_group, afq)">AFQ_run</a>(sub_dirs, sub_group, afq);
0044 <span class="keyword">catch</span> ME
0045     ME.stack
0046 <span class="keyword">end</span>
0047 
0048 <span class="comment">%% Compare values to saved data</span>
0049 vals = <a href="../functions/AFQ_get.html" class="code" title="function val = AFQ_get(afq, param, varargin)">AFQ_get</a>(afq,<span class="string">'vals'</span>,<span class="string">'fa'</span>);
0050 valsTest = <a href="../functions/AFQ_get.html" class="code" title="function val = AFQ_get(afq, param, varargin)">AFQ_get</a>(testData.afq,<span class="string">'vals'</span>,<span class="string">'fa'</span>);
0051 t = (valsTest - vals) &lt; .001;
0052 eq = find(t ==0);
0053 <span class="keyword">if</span> isempty(eq)
0054     fprintf(<span class="string">'\nNew FA values match saved FA values'</span>);
0055 <span class="keyword">else</span>
0056     warning(<span class="string">'\nNEW VALUES DO NOT MATCH OLD FA VALUES'</span>);
0057 <span class="keyword">end</span>
0058</pre></div>
<hr><address>Generated on Wed 05-Dec-2012 12:03:42 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" title="Matlab Documentation in HTML">m2html</a></strong> &copy; 2005</address>
</body>
</html>