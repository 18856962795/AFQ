<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of AFQ_meshGet</title>
  <meta name="keywords" content="AFQ_meshGet">
  <meta name="description" content="Get parameters from an AFQ msh, mesh structure">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html v1.5 &copy; 2003-2005 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../m2html.css">
</head>
<body>
<a name="_top"></a>
<div><a href="../index.html">Home</a> &gt;  <a href="index.html">3Dvis</a> &gt; AFQ_meshGet.m</div>

<!--<table width="100%"><tr><td align="left"><a href="../index.html"><img alt="<" border="0" src="../left.png">&nbsp;Master index</a></td>
<td align="right"><a href="index.html">Index for 3Dvis&nbsp;<img alt=">" border="0" src="../right.png"></a></td></tr></table>-->

<h1>AFQ_meshGet
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="box"><strong>Get parameters from an AFQ msh, mesh structure</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="box"><strong>function val = AFQ_meshGet(msh, param, varargin) </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="fragment"><pre class="comment"> Get parameters from an AFQ msh, mesh structure

 val = AFQ_meshGet(msh, param, varargin)

 AFQ_meshGet will get various parameters and values from the AFQ msh mesh
 structure. All the different calls to AFQ_meshGet are listed below.

 val = AFQ_meshGet('triangles') -- Get the the current faces, vertices and
 colors and return them in a structure that can be rendered with the
 MATLAB patch function.

 val = AFQ_meshGet('vertexcolors') -- Get the rgb values of the current
 mesh vertices.

 val = AFQ_meshGet('vertexorigin') -- Get the original vertices, before
 any smoothing. These correspond to acpc coordinates of the original
 segmentaion image.

 val = AFQ_meshGet('basecolor') -- Get the base color that is used to
 color the mesh surface (without any overlay colors).

 val = AFQ_meshGet('colors', colorname) -- Get the vertex colors with the
 name 'colorname'. These will be returned with respect to the current
 vertices. The colors may need to be remapped because all coloring is
 saved with respect to the original vertices. This is handled within this
 call to AFQ_meshGet by referencing the msh.map2origin field. Therefor
 colors will always be returned with respect to the current vertices.

 val = AFQ_meshGet('currentvertexname') -- Return the name of the current
 vertices. These are the ones that will be rendered.

 Copyright Jason D. Yeatman, November 2012</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../matlabicon.gif)">
<li><a href="AFQ_meshGet.html" class="code" title="function val = AFQ_meshGet(msh, param, varargin)">AFQ_meshGet</a>	Get parameters from an AFQ msh, mesh structure</li></ul>
This function is called by:
<ul style="list-style-image:url(../matlabicon.gif)">
<li><a href="AFQ_RenderCorticalSurface.html" class="code" title="function [p, msh] = AFQ_RenderCorticalSurface(cortex, varargin)">AFQ_RenderCorticalSurface</a>	Render the cortical surface from a binary segmentation image</li><li><a href="AFQ_meshColor.html" class="code" title="function msh = AFQ_meshColor(msh, varargin)">AFQ_meshColor</a>	Color the a mesh based on an overlay image or surface curvature</li><li><a href="AFQ_meshCreate.html" class="code" title="function msh = AFQ_meshCreate(im, varargin)">AFQ_meshCreate</a>	Create a mesh structure and build a 3d mesh from a nifti image</li><li><a href="AFQ_meshGet.html" class="code" title="function val = AFQ_meshGet(msh, param, varargin)">AFQ_meshGet</a>	Get parameters from an AFQ msh, mesh structure</li><li><a href="AFQ_meshSet.html" class="code" title="function msh = AFQ_meshSet(msh, param, varargin)">AFQ_meshSet</a>	Set fields in the AFQ msh mesh structure</li></ul>
<!-- crossreference -->



<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="fragment"><pre>0001 <a name="_sub0" href="#_subfunctions" class="code">function val = AFQ_meshGet(msh, param, varargin)</a>
0002 <span class="comment">% Get parameters from an AFQ msh, mesh structure</span>
0003 <span class="comment">%</span>
0004 <span class="comment">% val = AFQ_meshGet(msh, param, varargin)</span>
0005 <span class="comment">%</span>
0006 <span class="comment">% AFQ_meshGet will get various parameters and values from the AFQ msh mesh</span>
0007 <span class="comment">% structure. All the different calls to AFQ_meshGet are listed below.</span>
0008 <span class="comment">%</span>
0009 <span class="comment">% val = AFQ_meshGet('triangles') -- Get the the current faces, vertices and</span>
0010 <span class="comment">% colors and return them in a structure that can be rendered with the</span>
0011 <span class="comment">% MATLAB patch function.</span>
0012 <span class="comment">%</span>
0013 <span class="comment">% val = AFQ_meshGet('vertexcolors') -- Get the rgb values of the current</span>
0014 <span class="comment">% mesh vertices.</span>
0015 <span class="comment">%</span>
0016 <span class="comment">% val = AFQ_meshGet('vertexorigin') -- Get the original vertices, before</span>
0017 <span class="comment">% any smoothing. These correspond to acpc coordinates of the original</span>
0018 <span class="comment">% segmentaion image.</span>
0019 <span class="comment">%</span>
0020 <span class="comment">% val = AFQ_meshGet('basecolor') -- Get the base color that is used to</span>
0021 <span class="comment">% color the mesh surface (without any overlay colors).</span>
0022 <span class="comment">%</span>
0023 <span class="comment">% val = AFQ_meshGet('colors', colorname) -- Get the vertex colors with the</span>
0024 <span class="comment">% name 'colorname'. These will be returned with respect to the current</span>
0025 <span class="comment">% vertices. The colors may need to be remapped because all coloring is</span>
0026 <span class="comment">% saved with respect to the original vertices. This is handled within this</span>
0027 <span class="comment">% call to AFQ_meshGet by referencing the msh.map2origin field. Therefor</span>
0028 <span class="comment">% colors will always be returned with respect to the current vertices.</span>
0029 <span class="comment">%</span>
0030 <span class="comment">% val = AFQ_meshGet('currentvertexname') -- Return the name of the current</span>
0031 <span class="comment">% vertices. These are the ones that will be rendered.</span>
0032 <span class="comment">%</span>
0033 <span class="comment">% Copyright Jason D. Yeatman, November 2012</span>
0034 
0035 <span class="comment">% Format the parameter by removing spaces and capital letters</span>
0036 param = mrvParamFormat(param);
0037 
0038 <span class="keyword">switch</span>(param)
0039     <span class="keyword">case</span> {<span class="string">'triangles'</span> <span class="string">'tr'</span>}
0040         val = msh.tr;
0041     <span class="keyword">case</span> {<span class="string">'vertexcolors'</span> <span class="string">'facevertexcdata'</span>}
0042         val = msh.tr.FaceVertexCData;
0043     <span class="keyword">case</span> {<span class="string">'vertexorigin'</span> <span class="string">'originalvertices'</span>}
0044         val = msh.vertex.origin;
0045     <span class="keyword">case</span> {<span class="string">'basecolor'</span> <span class="string">'base'</span>}
0046         val = msh.colors.base;
0047     <span class="keyword">case</span> {<span class="string">'colors'</span> <span class="string">'color'</span>}
0048         <span class="keyword">if</span> nargin == 3 &amp;&amp; isfield(msh.colors,varargin{1}) 
0049             <span class="comment">% Get the color</span>
0050             val = msh.colors.(varargin{1});
0051             
0052             <span class="comment">% If the color is a single rgb value the repeat it for each</span>
0053             <span class="comment">% vertex</span>
0054             <span class="keyword">if</span> size(val,1) == 1
0055                 val = repmat(val,size(msh.vertex.(<a href="AFQ_meshGet.html" class="code" title="function val = AFQ_meshGet(msh, param, varargin)">AFQ_meshGet</a>(msh,<span class="string">'currentvertexname'</span>)),1),1);
0056             
0057             <span class="comment">% If it is a matrix of rgb values but not the same size as the vertices then map the</span>
0058             <span class="comment">% correct colors with the map2origin field</span>
0059             <span class="keyword">elseif</span> size(val,1) ~= size(msh.tr.vertices,1)
0060                 val = val(msh.map2origin.(<a href="AFQ_meshGet.html" class="code" title="function val = AFQ_meshGet(msh, param, varargin)">AFQ_meshGet</a>(msh,<span class="string">'currentvertexname'</span>)),:);
0061                 <span class="keyword">if</span> size(val) ~= size(msh.tr.vertices)
0062                     error(<span class="string">'mismatch between size of vertices and coloring'</span>);
0063                 <span class="keyword">end</span>
0064             <span class="keyword">end</span>
0065         <span class="keyword">else</span>
0066             error(<span class="string">'\nPlease provide the name of a color in msh.colors'</span>)
0067         <span class="keyword">end</span>
0068         
0069     <span class="keyword">case</span> <span class="string">'currentvertexname'</span>
0070         val = msh.vertex.current;
0071     <span class="keyword">otherwise</span>
0072         error(<span class="string">'\nNot an AFQ msh, mesh parameter'</span>);
0073        
0074 <span class="keyword">end</span></pre></div>
<hr><address>Generated on Wed 05-Dec-2012 12:03:42 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" title="Matlab Documentation in HTML">m2html</a></strong> &copy; 2005</address>
</body>
</html>