<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of AFQ_set</title>
  <meta name="keywords" content="AFQ_set">
  <meta name="description" content="Set properties of afq object">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html v1.5 &copy; 2003-2005 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../m2html.css">
</head>
<body>
<a name="_top"></a>
<div><a href="../index.html">Home</a> &gt;  <a href="index.html">functions</a> &gt; AFQ_set.m</div>

<!--<table width="100%"><tr><td align="left"><a href="../index.html"><img alt="<" border="0" src="../left.png">&nbsp;Master index</a></td>
<td align="right"><a href="index.html">Index for functions&nbsp;<img alt=">" border="0" src="../right.png"></a></td></tr></table>-->

<h1>AFQ_set
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="box"><strong>Set properties of afq object</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="box"><strong>function afq = AFQ_set(afq,param,varargin) </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="fragment"><pre class="comment"> Set properties of afq object

 afq = AFQ_set(afq, param, [vargrgin])

 The afq structure stores all the AFQ computations.  AFQ_set is the main
 function to add values, images, computations etc. to this structure.  As
 inputs AFQ_set takes in an afq structure, a parameter defined as a
 'string' which is to be set, and a number of aditional arguments and
 values that are specific to that parameter.  The arguments for each
 parameter are described below.  AFQ_set always returns the modified afq
 structure.  The structure can be queried and values can be accessed with
 AFQ_get.  The structure is created with AFQ_Create.

 See also: <a href="AFQ_get.html" class="code" title="function val = AFQ_get(afq, param, varargin)">AFQ_get</a> <a href="AFQ_Create.html" class="code" title="function afq = AFQ_Create(varargin)">AFQ_Create</a>

 Parameter list and associated arguments:

  param           - varargin

 'images'         - Add images to compute tract profiles on.
                    varargin = 1xN cell array (N is number of subjects) of
                    paths to nifti images.
 'vals'           - Add Tract Profile values to afq structure. If the vals
                    are for the mori groups then no fiber group number
                    needs to be defined and it is assumed that the values
                    are for groups 1:20. If it is a new fiber group then
                    you need to define the fiber group number.
                    varargin = 'subnum', subnum, 'valname1', vals1, ...
                    'valname2', vals2 ...
                    varargin = 'subnum', subnum, 'fgnum', fgnum, ...
                    'valname1', vals1, 'valname2', val2 ...

 'norms'          - Compute and assign control group norms to afq.norms
                    varargin = no argument needed
 'sub_group'      - Define subject group (patient=1 control=0) to afq
                    structure.
                    varargin = [1 1 1 0 0 0.....,]
 'current subject'- Define current subject for afq computations
                    varargin = [subject number]
 'overwritefibers'- Recompute fibers for a subject. If the second argument
                    is blank then it will recompute for all subjects
                    varargin = [subject number]
 'overwritevals'  - Recompute Tract Profile values for a subject
                    varargin = [subject number]
 'wholebrain fg path'- Set the path to the wholebrain fiber group for a
                       subject
                       varargin = 'subnum', [subject number]
 'segmented fg path' - Set the path to the segmented fiber group for a
                       subject
                       varargin = 'subnum', [subject number]
 'clean fg path'     - Set the path to the cleaned fiber group for a
                       subject
                       varargin = 'subnum', [subject number]
 'tractprofiles'  - Add tract profiles to the afq structure for a subject.
                    This should be a structure with each of the AFQ fiber
                    groups in it.  See <a href="AFQ_CreateTractProfile.html" class="code" title="function TractProfile = AFQ_CreateTractProfile(varargin)">AFQ_CreateTractProfile</a>
                    varargin = 'subnum', [subject number], TractProfiles
 'new fiber group - Add a new fiber group to the afq structure.
                    varargin = 'fiber group name'
 'new roi'        - Add the rois that define a new fiber group to the AFQ
                    structure
                    varargin = 'roi 1 name', 'roi 2 name'
 Example:

 afq = AFQ_set(afq, 'segemented fg path','subnum',10,'/data/sub10/fibers/'Morigroups.mat')

 Written by Jason D. Yeatman August 2012</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../matlabicon.gif)">
<li><a href="AFQ_get.html" class="code" title="function val = AFQ_get(afq, param, varargin)">AFQ_get</a>	Get value from afq structure</li></ul>
This function is called by:
<ul style="list-style-image:url(../matlabicon.gif)">
<li><a href="AFQ_AddNewFiberGroup.html" class="code" title="function afq = AFQ_AddNewFiberGroup(afq,fgName,roi1Name,roi2Name,cleanFibers,computeVals)">AFQ_AddNewFiberGroup</a>	THIS FUNCTION IS STILL BEING DEVELOPED</li><li><a href="AFQ_ComputeNorms.html" class="code" title="function [norms, patient_data, control_data, afq] = AFQ_ComputeNorms(varargin)">AFQ_ComputeNorms</a>	Compute tract diffusion profile norms from control group data</li><li><a href="AFQ_run.html" class="code" title="function [afq patient_data control_data norms abn abnTracts] = AFQ_run(sub_dirs, sub_group, afq)">AFQ_run</a>	Run AFQ analysis on a set of subjects to generate Tract Profiles of white</li></ul>
<!-- crossreference -->

<h2><a name="_subfunctions"></a>SUBFUNCTIONS <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<ul style="list-style-image:url(../matlabicon.gif)">
<li><a href="#_sub1" class="code">function [subnum varargin]=GetSubNum(afq,varargin)</a></li></ul>

<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="fragment"><pre>0001 <a name="_sub0" href="#_subfunctions" class="code">function afq = AFQ_set(afq,param,varargin)</a>
0002 <span class="comment">% Set properties of afq object</span>
0003 <span class="comment">%</span>
0004 <span class="comment">% afq = AFQ_set(afq, param, [vargrgin])</span>
0005 <span class="comment">%</span>
0006 <span class="comment">% The afq structure stores all the AFQ computations.  AFQ_set is the main</span>
0007 <span class="comment">% function to add values, images, computations etc. to this structure.  As</span>
0008 <span class="comment">% inputs AFQ_set takes in an afq structure, a parameter defined as a</span>
0009 <span class="comment">% 'string' which is to be set, and a number of aditional arguments and</span>
0010 <span class="comment">% values that are specific to that parameter.  The arguments for each</span>
0011 <span class="comment">% parameter are described below.  AFQ_set always returns the modified afq</span>
0012 <span class="comment">% structure.  The structure can be queried and values can be accessed with</span>
0013 <span class="comment">% AFQ_get.  The structure is created with AFQ_Create.</span>
0014 <span class="comment">%</span>
0015 <span class="comment">% See also: AFQ_get AFQ_Create</span>
0016 <span class="comment">%</span>
0017 <span class="comment">% Parameter list and associated arguments:</span>
0018 <span class="comment">%</span>
0019 <span class="comment">%  param           - varargin</span>
0020 <span class="comment">%</span>
0021 <span class="comment">% 'images'         - Add images to compute tract profiles on.</span>
0022 <span class="comment">%                    varargin = 1xN cell array (N is number of subjects) of</span>
0023 <span class="comment">%                    paths to nifti images.</span>
0024 <span class="comment">% 'vals'           - Add Tract Profile values to afq structure. If the vals</span>
0025 <span class="comment">%                    are for the mori groups then no fiber group number</span>
0026 <span class="comment">%                    needs to be defined and it is assumed that the values</span>
0027 <span class="comment">%                    are for groups 1:20. If it is a new fiber group then</span>
0028 <span class="comment">%                    you need to define the fiber group number.</span>
0029 <span class="comment">%                    varargin = 'subnum', subnum, 'valname1', vals1, ...</span>
0030 <span class="comment">%                    'valname2', vals2 ...</span>
0031 <span class="comment">%                    varargin = 'subnum', subnum, 'fgnum', fgnum, ...</span>
0032 <span class="comment">%                    'valname1', vals1, 'valname2', val2 ...</span>
0033 <span class="comment">%</span>
0034 <span class="comment">% 'norms'          - Compute and assign control group norms to afq.norms</span>
0035 <span class="comment">%                    varargin = no argument needed</span>
0036 <span class="comment">% 'sub_group'      - Define subject group (patient=1 control=0) to afq</span>
0037 <span class="comment">%                    structure.</span>
0038 <span class="comment">%                    varargin = [1 1 1 0 0 0.....,]</span>
0039 <span class="comment">% 'current subject'- Define current subject for afq computations</span>
0040 <span class="comment">%                    varargin = [subject number]</span>
0041 <span class="comment">% 'overwritefibers'- Recompute fibers for a subject. If the second argument</span>
0042 <span class="comment">%                    is blank then it will recompute for all subjects</span>
0043 <span class="comment">%                    varargin = [subject number]</span>
0044 <span class="comment">% 'overwritevals'  - Recompute Tract Profile values for a subject</span>
0045 <span class="comment">%                    varargin = [subject number]</span>
0046 <span class="comment">% 'wholebrain fg path'- Set the path to the wholebrain fiber group for a</span>
0047 <span class="comment">%                       subject</span>
0048 <span class="comment">%                       varargin = 'subnum', [subject number]</span>
0049 <span class="comment">% 'segmented fg path' - Set the path to the segmented fiber group for a</span>
0050 <span class="comment">%                       subject</span>
0051 <span class="comment">%                       varargin = 'subnum', [subject number]</span>
0052 <span class="comment">% 'clean fg path'     - Set the path to the cleaned fiber group for a</span>
0053 <span class="comment">%                       subject</span>
0054 <span class="comment">%                       varargin = 'subnum', [subject number]</span>
0055 <span class="comment">% 'tractprofiles'  - Add tract profiles to the afq structure for a subject.</span>
0056 <span class="comment">%                    This should be a structure with each of the AFQ fiber</span>
0057 <span class="comment">%                    groups in it.  See AFQ_CreateTractProfile</span>
0058 <span class="comment">%                    varargin = 'subnum', [subject number], TractProfiles</span>
0059 <span class="comment">% 'new fiber group - Add a new fiber group to the afq structure.</span>
0060 <span class="comment">%                    varargin = 'fiber group name'</span>
0061 <span class="comment">% 'new roi'        - Add the rois that define a new fiber group to the AFQ</span>
0062 <span class="comment">%                    structure</span>
0063 <span class="comment">%                    varargin = 'roi 1 name', 'roi 2 name'</span>
0064 <span class="comment">% Example:</span>
0065 <span class="comment">%</span>
0066 <span class="comment">% afq = AFQ_set(afq, 'segemented fg path','subnum',10,'/data/sub10/fibers/'Morigroups.mat')</span>
0067 <span class="comment">%</span>
0068 <span class="comment">% Written by Jason D. Yeatman August 2012</span>
0069 
0070 <span class="comment">% remove spaces and upper case</span>
0071 param = mrvParamFormat(param);
0072 
0073 <span class="keyword">switch</span>(param)
0074     
0075     <span class="keyword">case</span> <span class="string">'images'</span> <span class="comment">% Add images to afq.files.images</span>
0076         afq.files.images(end+1).path = varargin{1};
0077         <span class="keyword">if</span> length(varargin) &gt; 1
0078             afq.files.images(end).name = varargin{2};
0079         <span class="keyword">else</span>
0080             s = strfind(varargin{1}{1},<span class="string">'/'</span>);
0081             p = strfind(varargin{1}{1},<span class="string">'.'</span>);
0082             p = p(p &gt; s(end));
0083             name = varargin{1}{1}(s(end)+1:p(1)-1);
0084             afq.files.images(end).name = name;
0085         <span class="keyword">end</span>
0086         
0087     <span class="keyword">case</span> <span class="string">'vals'</span> <span class="comment">% Add values to the afq.values field</span>
0088         <span class="keyword">if</span> length(varargin) &gt;= 4
0089             <span class="comment">% Add the values to the correct row of the data matrix by</span>
0090             <span class="comment">% getting the subject's number</span>
0091             <span class="keyword">if</span> strcmp(<span class="string">'subnum'</span>,varargin{1})
0092                 <span class="comment">% If the subject number was defined use that row</span>
0093                 subnum = varargin{2};
0094                 <span class="comment">% The first value will be in varargin{3}</span>
0095                 val1 = 3;
0096             <span class="keyword">else</span>
0097                 <span class="comment">% Otherwise add to the row of the current subject that is</span>
0098                 <span class="comment">% being processed</span>
0099                 subnum = afq.currentsub;
0100                 <span class="comment">% The first value will be in varargin{1}</span>
0101                 val1 = 1;
0102             <span class="keyword">end</span>
0103             <span class="comment">% See if a fiber group number was defined otherwise assume that</span>
0104             <span class="comment">% it is for the mori groups in which case fgnum = 1:20.</span>
0105             argnum = find(strcmpi(<span class="string">'fgnum'</span>,varargin));
0106             <span class="keyword">if</span> ~isempty(argnum)
0107                 fgnum = varargin{argnum+1};
0108                 <span class="comment">% The first input that is a value will come after the</span>
0109                 <span class="comment">% definition of the fiber group number</span>
0110                 val1 = argnum+2;
0111             <span class="keyword">else</span>
0112                 <span class="comment">% If the fiber group number was not defined then assume</span>
0113                 <span class="comment">% that they are the mori groups meaning fiber group number</span>
0114                 <span class="comment">% 1 to 20.</span>
0115                 fgnum = 1:size(varargin{val1 + 1},2);
0116             <span class="keyword">end</span>
0117             <span class="comment">% Loop over the values that were input</span>
0118             <span class="keyword">for</span> ii = val1:2:length(varargin)
0119                 <span class="comment">% Loop over the fiber tracts starting with the first column</span>
0120                 <span class="comment">% of data that was input</span>
0121                 col = 0;
0122                 <span class="keyword">for</span> jj = fgnum
0123                     <span class="comment">% Move forward one column of data at a time</span>
0124                     col = col+1;
0125                     <span class="comment">% Take the stats that were calculated in</span>
0126                     <span class="comment">% AFQ_ComputeTractProperties and add them to a sructure</span>
0127                     <span class="comment">% for the full sample of subjects.  Each fiber group</span>
0128                     <span class="comment">% has its own cell. Within each cell there is a row for</span>
0129                     <span class="comment">% each subject with numberofnodes columns</span>
0130                     afq.vals.(varargin{ii}){jj}(subnum,:) = varargin{ii + 1}(:, col);
0131                 <span class="keyword">end</span>
0132             <span class="keyword">end</span>
0133         <span class="keyword">end</span>
0134         
0135     <span class="keyword">case</span> <span class="string">'norms'</span> <span class="comment">% Compute and assign control group norms to afq.norms</span>
0136         valnames = fieldnames(afq.vals);
0137         <span class="keyword">for</span> ii = 1:length(valnames)
0138             <span class="keyword">for</span> jj = 1:length(afq.fgnames)
0139                 afq.norms.([<span class="string">'mean'</span> upper(valnames{ii})])(:,jj)  = nanmean(afq.vals.(valnames{ii}){jj}(afq.sub_group==0,:));
0140                 afq.norms.([<span class="string">'sd'</span> upper(valnames{ii})])(:,jj)  = nanstd(afq.vals.(valnames{ii}){jj}(afq.sub_group==0,:));
0141                 afq.patient_data(jj).([upper(valnames{ii})]) = afq.vals.(valnames{ii}){jj}(afq.sub_group==1,:);
0142                 afq.control_data(jj).([upper(valnames{ii})]) = afq.vals.(valnames{ii}){jj}(afq.sub_group==0,:);
0143             <span class="keyword">end</span>
0144         <span class="keyword">end</span>
0145         
0146     <span class="keyword">case</span> <span class="string">'sub_group'</span> <span class="comment">% Define subject groups in afq.sub_group</span>
0147         afq.sub_group = varargin{1};
0148     <span class="keyword">case</span> <span class="string">'sub_dirs'</span>
0149         afq.sub_dirs = varargin{1};
0150         
0151     <span class="keyword">case</span> <span class="string">'currentsubject'</span> <span class="comment">% Define the current subject being analyzed</span>
0152         afq.currentsub = varargin{1};
0153         
0154     <span class="keyword">case</span> <span class="string">'overwritefibers'</span> <span class="comment">% Recompute fiber groups for subject # varargin</span>
0155         <span class="comment">% If a subject number is defined only overwrite for that subject</span>
0156         <span class="keyword">if</span> nargin == 3
0157             afq.overwrite.fibers.wholebrain(varargin{1}) = 1;
0158             afq.overwrite.fibers.segmented(varargin{1})  = 1;
0159             afq.overwrite.fibers.clean(varargin{1})      = 1;
0160         <span class="keyword">else</span>
0161             <span class="comment">% Otherwise overwrite for all subjects</span>
0162             afq.overwrite.fibers.wholebrain(:)= 1;
0163             afq.overwrite.fibers.segmented(:)= 1;
0164             afq.overwrite.fibers.clean(:)= 1;
0165         <span class="keyword">end</span>
0166         
0167     <span class="keyword">case</span> <span class="string">'overwritevals'</span> <span class="comment">% Recompute values for subject # varargin</span>
0168         afq.overwrite.vals(varargin{1}) = 1;
0169         
0170     <span class="keyword">case</span> {<span class="string">'wholebrainfgpath'</span> <span class="string">'wholebrainpath'</span> <span class="string">'wholebrainfg'</span> <span class="string">'wholebrainfibergroup'</span>}
0171         <span class="comment">% Add the values to the correct row of the data matrix</span>
0172         <span class="keyword">if</span> strcmp(<span class="string">'subnum'</span>,varargin{1})
0173             <span class="comment">% If the subject number was defined use that row</span>
0174             subnum = varargin{2};
0175             <span class="comment">% The first value will be in varargin{3}</span>
0176             val1 = 3;
0177         <span class="keyword">else</span>
0178             <span class="comment">% Otherwise add to the row of the current subject that is</span>
0179             <span class="comment">% being processed</span>
0180             subnum = afq.currentsub;
0181             <span class="comment">% The first value will be in varargin{1}</span>
0182             val1 = 1;
0183         <span class="keyword">end</span>
0184         afq.files.fibers.wholebrain{subnum} = varargin{val1};
0185         
0186     <span class="keyword">case</span> {<span class="string">'segmentedfgpath'</span> <span class="string">'segmentedpath'</span> <span class="string">'segmentedfg'</span> <span class="string">'segmentedfibergroup'</span>}
0187         <span class="comment">% Add the values to the correct row of the data matrix</span>
0188         <span class="keyword">if</span> strcmp(<span class="string">'subnum'</span>,varargin{1})
0189             <span class="comment">% If the subject number was defined use that row</span>
0190             subnum = varargin{2};
0191             <span class="comment">% The first value will be in varargin{3}</span>
0192             val1 = 3;
0193         <span class="keyword">else</span>
0194             <span class="comment">% Otherwise add to the row of the current subject that is</span>
0195             <span class="comment">% being processed</span>
0196             subnum = afq.currentsub;
0197             <span class="comment">% The first value will be in varargin{1}</span>
0198             val1 = 1;
0199         <span class="keyword">end</span>
0200         afq.files.fibers.segmented{subnum} = varargin{val1};
0201         
0202     <span class="keyword">case</span> {<span class="string">'cleanfgpath'</span> <span class="string">'cleanpath'</span> <span class="string">'cleanfg'</span> <span class="string">'cleanfibergroup'</span>}
0203         <span class="comment">% Add the values to the correct row of the data matrix</span>
0204         <span class="keyword">if</span> strcmp(<span class="string">'subnum'</span>,varargin{1})
0205             <span class="comment">% If the subject number was defined use that row</span>
0206             subnum = varargin{2};
0207             <span class="comment">% The first value will be in varargin{3}</span>
0208             val1 = 3;
0209         <span class="keyword">else</span>
0210             <span class="comment">% Otherwise add to the row of the current subject that is</span>
0211             <span class="comment">% being processed</span>
0212             subnum = afq.currentsub;
0213             <span class="comment">% The first value will be in varargin{1}</span>
0214             val1 = 1;
0215         <span class="keyword">end</span>
0216         afq.files.fibers.clean{subnum} = varargin{val1};
0217         
0218     <span class="keyword">case</span>{<span class="string">'tractprofiles'</span> <span class="string">'tractprofile'</span>}
0219         <span class="comment">% Add the values to the correct row of the data matrix</span>
0220         <span class="keyword">if</span> strcmp(<span class="string">'subnum'</span>,varargin{1})
0221             <span class="comment">% If the subject number was defined use that row</span>
0222             subnum = varargin{2};
0223             <span class="comment">% The first value will be in varargin{3}</span>
0224             val1 = 3;
0225         <span class="keyword">else</span>
0226             <span class="comment">% Otherwise add to the row of the current subject that is</span>
0227             <span class="comment">% being processed</span>
0228             subnum = afq.currentsub;
0229             <span class="comment">% The first value will be in varargin{1}</span>
0230             val1 = 1;
0231         <span class="keyword">end</span>
0232         
0233         <span class="comment">% See if a fiber group number was defined otherwise assume that it</span>
0234         <span class="comment">% is for the mori groups in which case fgnum = 1:20.</span>
0235         argnum = find(strcmpi(<span class="string">'fgnum'</span>,varargin));
0236         <span class="keyword">if</span> ~isempty(argnum)
0237             fgnum = varargin{argnum+1};
0238             <span class="comment">% The first input that is a value will come after the</span>
0239             <span class="comment">% definition of the fiber group number</span>
0240             val1 = argnum+2;
0241         <span class="keyword">else</span>
0242             <span class="comment">% If the fiber group number was not defined then assume that</span>
0243             <span class="comment">% they are the mori groups meaning fiber group number 1 to 20.</span>
0244             fgnum = 1:length(varargin{val1});
0245         <span class="keyword">end</span>
0246         
0247         <span class="comment">% Loop over the number of tract profiles and assign them to the afq</span>
0248         <span class="comment">% structure</span>
0249         col = 0;
0250         <span class="keyword">for</span> jj = fgnum
0251             <span class="comment">% put each tract profile in the apropriate colum of the tract</span>
0252             <span class="comment">% profiles structure within the afq structure</span>
0253             col = col+1;
0254             afq.TractProfiles(subnum,jj) = varargin{val1}(col);
0255         <span class="keyword">end</span>
0256         
0257     <span class="keyword">case</span> {<span class="string">'newfibergroup'</span> <span class="string">'newfg'</span>}
0258         <span class="comment">% Add the name of the new fiber group without the file extension</span>
0259         afq.fgnames{end+1} = prefix(varargin{1});
0260         <span class="comment">% And add the path to it</span>
0261         <span class="keyword">for</span> ii = 1:<a href="AFQ_get.html" class="code" title="function val = AFQ_get(afq, param, varargin)">AFQ_get</a>(afq,<span class="string">'numsubs'</span>)
0262             afq.files.fibers.(prefix(varargin{1})){ii} = fullfile(afq.sub_dirs{ii},<span class="string">'fibers'</span>,varargin{1});
0263         <span class="keyword">end</span>
0264     <span class="keyword">case</span> {<span class="string">'newroi'</span>}
0265         <span class="comment">% Add the name of the new rois for a fiber group</span>
0266         afq.roi1names{end+1} = prefix(varargin{1});
0267         afq.roi2names{end+1} = prefix(varargin{2});
0268     <span class="keyword">otherwise</span>
0269         error(<span class="string">'Uknown afq parameter'</span>);
0270 <span class="keyword">end</span>
0271 
0272 <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0273 <a name="_sub1" href="#_subfunctions" class="code">function [subnum varargin]=GetSubNum(afq,varargin)</a>
0274 <span class="comment">% Check if subnum was input into AFQ_set</span>
0275 loc = strcmp(<span class="string">'subnum'</span>,varargin);
0276 <span class="keyword">if</span> sum(loc) == 1
0277     idx = find(loc);
0278     <span class="comment">% If so define the subjects number</span>
0279     subnum = varargin{idx+1};
0280     <span class="comment">% Then remove these cells from varargin</span>
0281     <span class="keyword">if</span> length(varargin) &gt;= idx+2
0282         varargin = varargin([1:idx-1, idx+2:end]);
0283     <span class="keyword">else</span>
0284         varargin = varargin(1:idx-1)
0285     <span class="keyword">end</span>
0286     <span class="comment">% Otherwise get the subject number from the afq structure</span>
0287 <span class="keyword">else</span>
0288     subnum = afq.currentsub;
0289 <span class="keyword">end</span>
0290 
0291 <span class="keyword">return</span>
0292</pre></div>
<hr><address>Generated on Wed 05-Dec-2012 12:03:42 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" title="Matlab Documentation in HTML">m2html</a></strong> &copy; 2005</address>
</body>
</html>